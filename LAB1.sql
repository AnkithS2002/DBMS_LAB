CREATE TABLE PERSON
	(
	DRIVER_ID VARCHAR(10),
	NAME VARCHAR(20),
	ADDRESS VARCHAR(15),
	PRIMARY KEY(DRIVER_ID)
	);
    
	SELECT * FROM PERSON;
	CREATE TABLE CAR
	(
	REGNO VARCHAR(10),
	MODEL VARCHAR(10),
	YEAR INT,
	PRIMARY KEY(REGNO)
	);
	
	CREATE TABLE ACCIDENT
	(
	REPORT_NO INT,
	ADATE DATE,
	LOCATION VARCHAR(15),
	PRIMARY KEY(REPORT_NO)
	);
	
	CREATE TABLE OWNS
	(
	DRIVER_ID VARCHAR(10),
	REGNO VARCHAR(10),
	PRIMARY KEY(DRIVER_ID,REGNO),
	FOREIGN KEY(DRIVER_ID) REFERENCES PERSON(DRIVER_ID),
	FOREIGN KEY(REGNO) REFERENCES CAR(REGNO)
	);
	
	CREATE TABLE PARTICIPATED
	(
	DRIVER_ID VARCHAR(10),
	REGNO VARCHAR(10),
	REPORT_NO INT,
	DAMAGE_AMT INT,
	PRIMARY KEY(DRIVER_ID,REGNO,REPORT_NO),
	FOREIGN KEY(DRIVER_ID,REGNO) REFERENCES OWNS(DRIVER_ID,REGNO) ON DELETE CASCADE,
	FOREIGN KEY(REPORT_NO) REFERENCES ACCIDENT(REPORT_NO) ON DELETE CASCADE
	);
    
	INSERT INTO PERSON VALUES
	('1111','RAMU','K.S.LAYOUT');
	COMMIT;
	INSERT INTO PERSON VALUES
	('2222','JOHN','INDIRANAGAR');
	COMMIT;
	INSERT INTO PERSON VALUES
	('3333','PRIYA','JAYANAGAR');
	COMMIT;
	INSERT INTO PERSON VALUES
	('4444','GOPAL','WHITEFIELD');
	COMMIT;
	INSERT INTO PERSON VALUES
	('5555','LATA','VIJAYANAGAR');
	COMMIT;
	DESC PERSON;
	SELECT * FROM PERSON;
	INSERT INTO CAR VALUES
	('KA04Q2301','MARUTHI-DX',2000);
	INSERT INTO CAR VALUES
	
	('KA05P1000','FORDICON',2000);
	INSERT INTO CAR VALUES
	
	('KA03L1234','ZEN-VXI',1999);
	INSERT INTO CAR VALUES
	
	('KA03L9999','MARUTHI-DX',2002);
	INSERT INTO CAR VALUES
	
	('KA01P4020','INDICA-VX',2002);
	COMMIT;
	DESC CAR;
	SELECT * FROM CAR;
    
	INSERT INTO ACCIDENT VALUES
	(12,'2002-05-01','M G ROAD');
    
	INSERT INTO ACCIDENT VALUES
	(200,'2002-12-10','DOUBLEROAD');
    
	INSERT INTO ACCIDENT VALUES
	(300,'1999-07-23','BAVASANAGUDI');
    
	INSERT INTO ACCIDENT VALUES
	(25000,'2000-06-11','RESIDENCY ROAD');
    
	INSERT INTO ACCIDENT VALUES
	(26500,'2001-09-16','RICHMOND ROAD');

	COMMIT;
	DESC ACCIDENT;
	SELECT * FROM ACCIDENT;
    
	INSERT INTO OWNS VALUES
	(1111,'KA04Q2301');
    commit;
    
	INSERT INTO OWNS VALUES
	(1111,'KA05P1000');
    
	INSERT INTO OWNS VALUES
	(2222,'KA03L1234');
    
	INSERT INTO OWNS VALUES
	(3333,'KA03L9999');
	
    INSERT INTO OWNS VALUES
	(4444,'KA01P4020');
    
	COMMIT;
	DESC OWNS;
	SELECT * FROM OWNS;
	INSERT INTO PARTICIPATED VALUES
	
	(1111,'KA04Q2301',12,20000);
	INSERT INTO PARTICIPATED VALUES
	
	(2222,'KA03L1234',200,500);
	INSERT INTO PARTICIPATED VALUES
	
	(3333,'KA03L9999',300,10000);
	INSERT INTO PARTICIPATED VALUES
	
	(4444,'KA01P4020',25000,2375);
	INSERT INTO PARTICIPATED VALUES
	
	(1111,'KA05P1000',26500,70000);
	DESC PARTICIPATED;
	SELECT * FROM PARTICIPATED;
	
	UPDATE PARTICIPATED SET DAMAGE_AMT=25000 WHERE REPORT_NO=12 AND REGNO='KA04Q2301';
	SELECT * FROM PARTICIPATED;
	
	SELECT COUNT(*) FROM ACCIDENT
	
	WHERE ADATE LIKE '__-___-02';
	COMMIT;
	SELECT * FROM ACCIDENT;
	
	SELECT COUNT(A.REPORT_NO)
	
	FROM ACCIDENT A, PARTICIPATED P, CAR C
	
	WHERE A.REPORT_NO=P.REPORT_NO
	
	AND
	
	P.REGNO=C.REGNO
	
	AND
	
	C.MODEL='MARUTHI-DX';
show tables;

SELECT * FROM PERSON;
SELECT * FROM OWNS;
SELECT * FROM CAR;